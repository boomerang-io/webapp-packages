//header styles

$breakpoints: (
  bp--xs--major: 500px,
  bp--sm--major: 768px,
  bp--md--major: 992px,
  bp--lg--major: 1200px,
);

@mixin breakpoint($size) {
  @if map-has-key($breakpoints, $size) {
    @media screen and (min-width: map-get($breakpoints, $size)) {
      @content;
    }
  } @else {
    @media (min-width: $size) {
      @content;
    }
  }
}

@include exports('addons-bmrg-header') {
  .#{$prefix}--bmrg-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background-color: $bmrg-header-nav-color;
    color: $bmrg-secondary-color;
    height: rem(48px);
    padding: 0 rem(2px);
    width: 100%;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 9999;

    .#{$prefix}--skip-to-content {
      position: absolute;
      width: 1px;
      height: 1px;
      margin: -1px;
      overflow: hidden;

      &:focus {
        width: 100%;
        height: 3rem;
        display: flex;
        align-items: center;
        z-index: 1;
        color: $bmrg-secondary-color;
        outline: none;
        padding: 0 1rem;
        background-color: $bmrg-header-nav-color;
        border: rem(4px) solid $bmrg-secondary-color;
      }
    }
  }

  .#{$prefix}--bmrg-header__wrapper,
  .#{$prefix}--bmrg-header-brand,
  .#{$prefix}--bmrg-header-brand-container {
    color: $bmrg-brand-white;
    height: 100%;
    display: flex;
    align-items: center;
  }

  .#{$prefix}--bmrg-header-brand {
    color: $bmrg-secondary-color;
    text-decoration: none;
    transition: color $carbon-motion--timing--productive $carbon-motion--easing--productive;
  }

  .#{$prefix}--bmrg-header-brand--no-menu {
    padding-left: rem(20px);
  }

  .#{$prefix}--bmrg-header-brand__icon {
    height: rem(32px);
    width: rem(130px);
    margin-right: 1.25rem;
  }

  .#{$prefix}--bmrg-header-brand__text {
    color: $bmrg-brand-white;
    font-size: rem(16px);
    font-weight: 500;
    margin-right: rem(14px);
  }

  .#{$prefix}--bmrg-header-brand__divider.--small {
    color: $bmrg-brand-white;
    font-weight: 400;
  }

  .#{$prefix}--bmrg-header-list {
    align-items: center;
    display: flex;
    height: 100%;
    list-style: none;
    padding: 0;

    > li {
      height: 3rem;
      position: relative;
    }
  }

  .#{$prefix}--bmrg-header-list--link {
    display: none;

    @include breakpoint('672px') {
      display: flex;
    }
  }

  .#{$prefix}--bmrg-header-list--icon
    .#{$prefix}--bmrg-header-list__item:not(.#{$prefix}--bmrg-header-list__item--icon) {
    display: none;

    @include breakpoint('320px') {
      display: flex;
    }
  }

  .#{$prefix}--bmrg-header-list__item {
    align-items: center;
    display: flex;
    height: 100%;
    position: relative;
  }

  .#{$prefix}--bmrg-header-list__link {
    align-items: center;
    border: rem(1px) solid transparent;
    color: $bmrg-secondary-color;
    display: flex;
    font-size: rem(13px);
    font-weight: 500;
    height: 100%;
    line-height: rem(17px);
    padding: 0 rem(14px);
    text-decoration: none;
    transition: all $carbon-motion--timing--productive $carbon-motion--easing--productive;

    &.--is-active {
      background: $bmrg-header-active-background-color;
      color: $bmrg-header-active-text-color;
      &:hover,
      &:focus {
        background: $bmrg-header-active-background-color;
        color: $bmrg-header-active-text-color;
      }
    }
    &:focus {
      border: rem(1px) solid $bmrg-secondary-color;
      color: $bmrg-secondary-color;
      outline: 0;

      &:active {
        background: $bmrg-header-active-background-color;
        color: $bmrg-header-active-text-color;
      }
    }
  }

  .#{$prefix}--bmrg-header-list__btn {
    align-items: center;
    border: rem(1px) solid transparent;
    cursor: pointer;
    display: flex;
    height: 100%;
    padding: rem(14px);
    transition: all $carbon-motion--timing--productive $carbon-motion--easing--productive;
    &:focus {
      border: rem(1px) solid $bmrg-secondary-color;
      outline: none;
    }

    svg {
      fill: $bmrg-secondary-color;
    }

    &:hover {
      background-color: $bmrg-header-hover-background-color;
      border: rem(1px) solid $bmrg-header-hover-background-color;
    }

    &[aria-expanded='true'] {
      background: $bmrg-header-menu-options-accent-color;
      border: rem(1px) solid $bmrg-header-menu-options-accent-color;
      svg {
        fill: $bmrg-header-hover-background-color;
      }
    }
  }

  .#{$prefix}--bmrg-header-list__btn .#{$prefix}--bmrg-header__user-icon {
    height: rem(32px);
    width: rem(32px);
  }

  .#{$prefix}--bmrg-header-global {
    position: fixed;
    top: rem(48px);
    width: 100%;
    left: 0;
    border-top-style: solid;
    border-top-color: $bmrg-header-menu-options-accent-color;
    border-top-width: 0.375rem;
    cursor: auto;
  }

  .#{$prefix}--bmrg-header-global__collection {
    background-color: #373d42;
    height: 6rem;
    display: flex;
    align-items: center;
    justify-content: flex-end;
  }

  .#{$prefix}--bmrg-header-global__collection--item {
    height: 4.375rem;
    width: 6.25rem;
    padding: 1rem;
    position: relative;
    list-style-type: none;
  }

  .#{$prefix}--bmrg-header-global__icon {
    height: rem(28px);
    position: absolute;
    top: 0;
  }

  .#{$prefix}-cloud-header-global__text {
    height: 0.9375rem;
    width: 3.875rem;
    color: $bmrg-secondary-color;
    font-family: 'IBM Plex Sans', 'Helvetica Neue', Arial, Helvetica, sans-serif;
    font-size: 0.75rem;
    font-weight: 500;
    line-height: 0.9375rem;
    position: absolute;
    bottom: 1rem;
  }

  .#{$prefix}--bmrg-header-list__item-Globalicon {
    border-left: rgba(251, 252, 252, 0.2);
    border-style: solid;
    border-left-width: 0.125rem;
  }

  .#{$prefix}--bmrg-header-list__notification-circle {
    background: $bmrg-header-notification-icon;
    border-radius: 50%;
    height: rem(8px);
    position: absolute;
    right: rem(8px);
    top: rem(8px);
    width: rem(8px);

    &.--is-active {
      background: $bmrg-header-active-text-color;
    }
  }

  .#{$prefix}--bmrg-header__app-menu-wrapper > :first-child {
    transform: translateX(0%);
    transition: transform $carbon-motion--timing--productive $carbon-motion--easing--productive;
  }

  .#{$prefix}--bmrg-header__app-menu-wrapper.--is-hidden > :first-child {
    transform: translateX(-100%);
  }

  .#{$prefix}--bmrg-header__app-menu-wrapper {
    display: contents;
  }

  .#{$prefix}--bmrg-header__app-menu {
    align-items: center;
    box-sizing: content-box;
    display: inline-flex;
    justify-content: center;
    cursor: pointer;
    transition: all $carbon-motion--timing--productive $carbon-motion--easing--productive;
    transform: scale(0.5);
    margin-left: rem(19px);
    margin-right: 1.3rem;

    svg {
      fill: $bmrg-secondary-color;
    }

    .bar1 {
      transition: all $carbon-motion--timing--productive $carbon-motion--easing--productive;
    }
    .bar3 {
      transition: all $carbon-motion--timing--productive $carbon-motion--easing--productive;
    }

    .bar2 {
      transition: all 50ms ease;
      opacity: 1;
    }

    &.--is-open .bar1 {
      transform: rotate(45deg) translateY(-2px) translateX(6px);
    }

    &.--is-open .bar3 {
      transform: rotate(-45deg) translateY(-4px) translateX(-16px);
    }

    &.--is-open .bar2 {
      width: 0;
      opacity: 0;
    }
  }

  .#{$prefix}--bmrg-right-panel {
    position: fixed;
    height: 100%;
    width: 22rem;
    right: 0;
    background-color: $bmrg-tertiary-color;
    transform: translateX(0);
    transition: transform $carbon-motion--timing--productive $carbon-motion--easing--productive;

    &.--is-hidden {
      transform: translateX(100%);
    }
  }
}
